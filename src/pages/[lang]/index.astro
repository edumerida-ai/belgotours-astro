---
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/Header.astro";
import HeroWrapper from "@/components/home/HeroWrapper.astro";
import ToursDestacados from "@/components/ToursDestacados.astro";
import ReviewsSection from "@/components/ReviewsSection.astro";
import GuidesSection from "@/components/GuidesSection.astro";
import Footer from "@/components/Footer.astro";

// ✅ Searchbox definitivo sin CMS
import { SEARCHBOX_TOURS } from "@/data/tours/searchbox.tours";

/* PARAMS */
const { lang } = Astro.params as { lang: "es" | "en" | "it" | "fr" | "pt" };

/* SEO fallback */
const seoTitle = "Belgotours | Free Tours y Tours Privados en Bélgica";
const seoDescription =
  "Reserva free tours y tours privados en Bruselas y Bélgica con guías locales expertos.";
const canonical = `https://belgotours.com/${lang}/`;

/* HERO fallback */
const heroTitle = "Descubre Bélgica con guías locales";
const heroSubtitle = "Free Tours y Tours Privados en Bruselas y Brujas";
const heroDescription = "Experiencias auténticas, grupos pequeños y cancelación gratuita.";
const heroHighlighted = "Español, Inglés, Francés e Italiano";
const heroImageUrl =
  "https://images.unsplash.com/photo-1526481280695-3c687fd543c0?auto=format&fit=crop&w=1600&q=80";
const heroBadge = "⭐ 4.9 / 5";

/* SearchBox fallback */
const searchTitle = "Encuentra tu tour ideal";
const searchSubtitle = "Reserva en 2 minutos · Cancelación gratuita";
const searchCta = "Ver tour";

// ✅ Tours para SearchBox (pt muestra todos, otros filtra)
const tours = SEARCHBOX_TOURS;
---

<Layout title={seoTitle} description={seoDescription} canonical={canonical}>
  <Header lang={lang} />
         <HeroWrapper
    lang={lang}
    heroTitle={heroTitle}
    heroSubtitle={heroSubtitle}
    heroDescription={heroDescription}
    heroHighlighted={heroHighlighted}
    heroImageUrl="/images/HeroRight/free-walking-tour-brussels-historic-center.webp"
    heroBadge={heroBadge}
    searchTitle={searchTitle}
    searchSubtitle={searchSubtitle}
    searchCta={searchCta}
    tours={tours}
  />

  <!-- TOURS DESTACADOS (bloque SEO + CRO principal) -->
  <ToursDestacados lang={lang} />

  <ReviewsSection lang={lang} />
  <GuidesSection lang={lang} />

  <Footer lang={lang} />
</Layout>
